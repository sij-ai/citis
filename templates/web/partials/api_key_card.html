<div class="card api-key-card" id="api-key-{{ api_key.id }}">
    <div class="card-body">
        <div class="row align-items-center">
            <div class="col">
                <div class="d-flex align-items-center mb-2">
                    <h6 class="mb-0">{{ api_key.name }}</h6>
                    <span class="badge bg-{{ api_key.is_active|yesno:'success,secondary' }} ms-2">
                        {{ api_key.is_active|yesno:'Active,Inactive' }}
                    </span>
                </div>
                <div class="input-group">
                    <input type="text" 
                           class="form-control form-control-sm font-monospace" 
                           value="{{ api_key.key }}" 
                           id="api-key-input-{{ api_key.id }}"
                           readonly>
                    <button class="btn btn-outline-secondary btn-sm" 
                            type="button"
                            onclick="copyApiKey('{{ api_key.id }}', '{{ api_key.key }}')"
                            title="Copy API key">
                        <i class="bi bi-clipboard"></i>
                    </button>
                </div>
                <div class="mt-2">
                    <small class="text-muted">
                        Created: {{ api_key.created_at|date:"M d, Y" }}
                        {% if api_key.last_used_at %}
                        â€¢ Last used: {{ api_key.last_used_at|date:"M d, Y" }}
                        {% else %}
                        â€¢ Never used
                        {% endif %}
                    </small>
                </div>
            </div>
            <div class="col-auto">
                <div class="btn-group btn-group-sm">
                    <button class="btn btn-outline-primary" 
                            hx-get="{% url 'web:update_api_key' api_key.id %}"
                            hx-target="#api-key-{{ api_key.id }}"
                            hx-swap="outerHTML"
                            title="Edit">
                        <i class="bi bi-pencil"></i>
                    </button>
                    <button class="btn btn-outline-danger" 
                            hx-delete="{% url 'web:delete_api_key' api_key.id %}"
                            hx-target="#api-key-{{ api_key.id }}"
                            hx-swap="outerHTML"
                            hx-confirm="Are you sure you want to delete this API key?"
                            title="Delete">
                        <i class="bi bi-trash"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div> 